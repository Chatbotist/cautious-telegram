<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>testbutton</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">

<meta name="generator" content="Scirra Construct">

<link rel="manifest" href="appmanifest.json">
<link rel="apple-touch-icon" sizes="128x128" href="icons/Иконка-128.png">
<link rel="apple-touch-icon" sizes="256x256" href="icons/Иконка-256.png">
<link rel="apple-touch-icon" sizes="512x512" href="icons/Иконка-512.png">
<link rel="icon" type="image/png" href="icons/Иконка-512.png">

<link rel="stylesheet" href="style.css">

</head>
<body>

<script>
if (location.protocol.substr(0, 4) === "file") {
    alert("Web exports won't work until you upload them. (When running on the file: protocol, browsers block many features from working for security reasons.)");
}
</script>

<noscript>
    <div id="notSupportedWrap">
        <h2 id="notSupportedTitle">This content requires JavaScript</h2>
        <p class="notSupportedMessage">JavaScript appears to be disabled. Please enable it to view this content.</p>
    </div>
</noscript>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script src="scripts/supportcheck.js"></script>
<script src="scripts/offlineclient.js" type="module"></script>
<script src="scripts/main.js" type="module"></script>
<script src="scripts/register-sw.js" type="module"></script>

<script>
window.addEventListener('load', function() {
    // Проверяем, запущено ли приложение в Telegram Mini Apps
    if (window.Telegram.WebApp) {
        var user = window.Telegram.WebApp.initDataUnsafe.user;
        if (user) {
            var userId = user.id;
            var username = user.username;

            var spanElem = document.createElement('span');
            spanElem.id = 'userId';
            spanElem.innerText = 'User ID: ' + userId + ', Username: @' + username;
            document.body.appendChild(spanElem);
        } else {
            console.log("User data is not available.");
        }
    } else {
        console.log("This application is not running inside Telegram Mini Apps.");
    }
});
</script>

</body>
</html>
